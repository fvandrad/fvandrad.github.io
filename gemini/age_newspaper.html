<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>As Cr√¥nicas do Castelo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=MedievalSharp&family=Uncial+Antiqua&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìú</text></svg>">
    <style>
        :root {
            --color-parchment: #f3e9d2;
            --color-ink-dark: #3a2d21;
            --color-ink-medium: #5a3d2b;
            --color-ink-light: #6d4c3d;
            --color-shadow: rgba(0, 0, 0, 0.5);
            --font-title: 'Uncial Antiqua', cursive;
            --font-body: 'MedievalSharp', cursive;
        }

        body {
            font-family: var(--font-body);
            background-color: #1a1a1a;
            background-image: url('https://www.transparenttextures.com/patterns/dark-wood.png'); /* Fundo de madeira escura */
            color: var(--color-ink-dark);
            margin: 0;
            line-height: 1.9;
            font-size: 18px;
            /* Novas propriedades para o scroll horizontal */
            height: 100vh;
            overflow-x: auto; /* Permite o scroll horizontal */
            overflow-y: hidden; /* Esconde o scroll vertical */
            white-space: nowrap; /* Impede que os elementos quebrem linha */
        }

        .newspaper-container {
            display: inline-block; /* Permite que o container se expanda horizontalmente */
            height: 100vh;
            padding: 3rem 4rem;
            background-color: var(--color-parchment);
            background-image: url('https://www.transparenttextures.com/patterns/old-paper.png');
            border: 15px solid transparent;
            border-image: url('data:image/svg+xml;charset=utf-8,%3Csvg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg"%3E%3Cstyle%3Epath%7Bstroke:%235a3d2b;stroke-width:5;%7D%3C/style%3E%3Cpath d="M0 5 V100" /%3E%3Cpath d="M5 0 H100" /%3E%3Cpath d="M100 95 V0" /%3E%3Cpath d="M95 100 H0" /%3E%3Cpath d="M5 5 H95 V95 H5Z" /%3E%3C/svg%3E') 15;
            box-shadow: 0 10px 30px var(--color-shadow);
            box-sizing: border-box;
        }

        header {
            /* Altera√ß√µes para o header fixo e animado */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10;            
            text-align: center;
            border-bottom: 4px double var(--color-ink-dark);
            background-color: var(--color-parchment);
            background-image: url('https://www.transparenttextures.com/patterns/old-paper.png');
            padding: 1rem 4rem;
            box-sizing: border-box;
            transition: transform 0.4s ease-in-out;
        }

        .header-toggle-btn {
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%) translateY(100%);
            background: var(--color-parchment);
            border: 2px double var(--color-ink-dark);
            border-bottom: none;
            border-radius: 10px 10px 0 0;
            width: 50px;
            height: 25px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
            z-index: 9;
        }
        .header-toggle-btn:hover {
            background: #e9dfc7;
        }
        .header-toggle-btn svg {
            width: 24px;
            height: 24px;
            transition: transform 0.4s ease-in-out;
        }

        .header-content {
            transition: opacity 0.2s ease-in-out;
        }

        h1 {
            font-family: var(--font-title);
            font-size: 4.5em;
            color: var(--color-ink-dark);
            margin: 0;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        .subtitle {
            font-size: 1.2em;
            color: var(--color-ink-medium);
            margin-top: 0.5rem;
        }

        .header-hidden {
            transform: translateY(calc(-100% + 25px)); /* 25px √© a altura do bot√£o */
        }

        .header-hidden .header-content {
            opacity: 0;
        }

        .header-hidden .header-toggle-btn svg {
            transform: rotate(180deg);            
        }

        main {
            /* Transforma o main em um container flex√≠vel horizontal */
            display: flex;
            gap: 40px;
            height: calc(100% - 150px); /* Ajusta a altura para caber o header e footer */
            /* Ajustado para considerar o header fixo */
            height: calc(100% - 220px); /* Altura do header √© ~220px */
            margin-top: 220px;
            transition: margin-top 0.4s ease-in-out, height 0.4s ease-in-out; /* Adicionado para a anima√ß√£o */
            align-items: flex-start;
        }

        main.main-expanded {
            margin-top: 0;
            height: 100%;
        }

        main > div {
            /* Cada div dentro do main ser√° uma coluna */
            width: 450px; /* Largura fixa para cada coluna */
            height: 100%; /* Ocupa a altura do container 'main' */
            overflow-y: auto; /* ADICIONADO: Permite scroll vertical APENAS na coluna, se necess√°rio */
            white-space: normal; /* Permite que o texto quebre linha dentro da coluna */
            text-align: justify;
            padding-right: 40px;
            border-right: 1px solid var(--color-ink-light);
        }

        /* Estiliza√ß√£o da barra de rolagem para um visual mais integrado */
        main > div::-webkit-scrollbar {
            width: 8px;
        }
        main > div::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 4px;
        }
        main > div::-webkit-scrollbar-thumb {
            background: var(--color-ink-light);
            border-radius: 4px;
        }

        main h2 {
            font-family: var(--font-title);
            font-size: 2em;
            color: var(--color-ink-medium);
            margin-top: 1.5rem;
            margin-bottom: 1rem;            
            text-align: left;
        }

        main p:first-of-type::first-letter {
            font-size: 4em;
            float: left;
            margin-right: 0.1em;
            line-height: 0.8;
            font-weight: bold;
            color: var(--color-ink-dark);
        }

        .newspaper-image {
            width: 100%;
            height: auto;
            border: 4px solid var(--color-ink-light);
            padding: 5px;
            background: white;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.3);
            margin: 1.5rem 0;
        }

        figure {
            margin: 1.5rem 0;
        }

        figcaption {
            text-align: center;
            font-size: 0.9em;
            font-style: italic;
            color: var(--color-ink-medium);
            margin-top: 0.5rem;
        }

        footer {
            /* Alterado para ser um item flex, como as colunas */
            flex-shrink: 0;
            width: 300px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            font-size: 1.1em;
            white-space: normal; /* Garante que o texto do footer n√£o seja afetado pelo nowrap do body */
        }

        /* --- Responsividade --- */
        @media (max-width: 768px) {
            .newspaper-container {
                padding: 2rem;
                border-width: 10px;
            }
            main > div {
                width: 350px; /* Colunas mais estreitas em telas menores */
            }
            h1 {
                font-size: 3em;
            }
        }

        @media (max-width: 480px) {
            .newspaper-container {
                padding: 1.5rem;
            }
            main > div {
                width: 300px; /* Colunas ainda mais estreitas */
            }
            h1 {
                font-size: 2.5em;
            }
        }

        /* --- Novo Menu no Cabe√ßalho --- */
        .header-nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 0;
            padding: 1rem 0 0;
            gap: 1.5rem;
        }

        .header-nav a {
            font-family: var(--font-body);
            color: var(--color-ink-medium);
            text-decoration: none;
            font-size: 1.1em;
            font-weight: bold;
            padding-bottom: 0.5rem;
            transition: color 0.3s, border-color 0.3s;
            border-bottom: 2px solid transparent;
        }

        .header-nav a:hover,
        .header-nav a.active {
            color: var(--color-ink-dark);
            border-bottom-color: var(--color-ink-dark);
        }
    </style>
</head>
<body>

    <div class="newspaper-container">
        <header>
            <div class="header-content">
                <h1>As Cr√¥nicas do Castelo</h1>
                <p class="subtitle">Edi√ß√£o Especial da Era Medieval</p>
                <nav class="header-nav" aria-label="Navega√ß√£o das se√ß√µes">
                    <ul>
                        <li><a href="#col-inicio" class="active">In√≠cio</a></li>
                        <li><a href="#col-arquitetura">Arquitetura</a></li>
                        <li><a href="#col-vida">Vida</a></li>
                        <li><a href="#col-curiosidades">Curiosidades</a></li>
                        <li><a href="#col-fim">Fim</a></li>
                    </ul>
                </nav>
            </div>
            <button id="header-toggle" class="header-toggle-btn" aria-label="Ocultar/Mostrar Cabe√ßalho" title="Ocultar/Mostrar Cabe√ßalho">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
                </svg>
            </button>
        </header>

        <main>
            <!-- Coluna 1 -->
            <div id="col-inicio">
                <p>
                    Viaje no tempo para uma era de reis, cavaleiros e grandiosas fortalezas. Os castelos n√£o eram apenas lares, mas s√≠mbolos de poder, centros de administra√ß√£o e basti√µes de defesa que dominaram a paisagem medieval. Uma era de pedra e a√ßo, onde a honra era forjada em batalha e as lendas nasciam √† sombra de muralhas imponentes.
                </p>
                <figure>
                    <img src="https://images.pexels.com/photos/19344603/pexels-photo-19344603.jpeg" alt="Um belo castelo imponente em uma colina" class="newspaper-image" loading="lazy">
                    <figcaption>O Castelo de Eilean Donan, sentinela das Terras Altas.</figcaption>
                </figure>
            </div>

            <!-- Coluna 2 -->
            <div id="col-arquitetura">
                <h2>Arquitetura e Defesa</h2>
                <p>
                    A constru√ß√£o de um castelo era uma obra monumental de engenharia militar. Muralhas altas e espessas, torres de vigia, ameias e seteiras formavam a primeira linha de defesa. Muitos eram cercados por fossos, alguns cheios de √°gua, e a √∫nica entrada era atrav√©s de uma ponte levadi√ßa, protegida por um port√£o maci√ßo de madeira e ferro. Cada elemento era projetado para resistir a longos cercos e ataques diretos com catapultas e ar√≠etes.
                </p>
                <p>
                    No interior, labirintos de p√°tios e passagens estreitas confundiam os invasores que conseguissem ultrapassar as defesas externas, tornando cada cent√≠metro do castelo um campo de batalha.
                </p>
            </div>

            <!-- Coluna 3 -->
            <div id="col-vida">
                <h2>A Vida no Castelo</h2>
                <p>
                    Longe de ser um lugar de luxo e conforto para todos, a vida no castelo era complexa e hier√°rquica. No cora√ß√£o do castelo ficava o Grande Sal√£o, onde o senhor recebia convidados, realizava banquetes e julgava disputas. A fam√≠lia nobre vivia em aposentos privados, enquanto cavaleiros, soldados e uma multid√£o de servos - cozinheiros, ferreiros, criados e artes√£os - viviam e trabalhavam dentro de suas muralhas, cada um com seu papel vital para o funcionamento da fortaleza.
                </p>
                <figure>
                    <img src="https://images.pexels.com/photos/18115966/pexels-photo-18115966.jpeg" alt="Detalhe das muralhas e torres de um castelo medieval" class="newspaper-image" loading="lazy">
                    <figcaption>As muralhas, testemunhas silenciosas de incont√°veis batalhas.</figcaption>
                </figure>
            </div>

            <!-- Coluna 4 -->
            <div id="col-curiosidades">
                <h2>Curiosidades Medievais</h2>
                <p>
                    Voc√™ sabia que muitos castelos possu√≠am masmorras n√£o apenas para prisioneiros, mas tamb√©m para armazenar alimentos e suprimentos valiosos? E que a vida dentro de suas muralhas era frequentemente barulhenta e cheia de atividades, com mercados, oficinas e at√© pequenos jardins? Os castelos eram verdadeiras micro-cidades, autossuficientes em muitos aspectos, capazes de resistir por meses a fio.
                </p>
                <h2>O Decl√≠nio dos Gigantes de Pedra</h2>
                <p>
                    Com o fim da Idade M√©dia, a import√¢ncia militar dos castelos diminuiu drasticamente. O desenvolvimento da artilharia, especialmente canh√µes poderosos, tornou as muralhas de pedra vulner√°veis. Al√©m disso, a centraliza√ß√£o do poder nas m√£os dos monarcas e o surgimento de ex√©rcitos nacionais permanentes mudaram a natureza da guerra. Muitos castelos foram abandonados, ca√≠ram em ru√≠nas ou foram convertidos em resid√™ncias luxuosas, perdendo sua fun√ß√£o defensiva original, mas permanecendo como testemunhas silenciosas de uma era fascinante.
                </p>
            </div>
            
            <!-- O footer agora est√° dentro do main para fazer parte do scroll horizontal -->
            <footer id="col-fim">
                <p>Fim da edi√ß√£o. Que os ventos da hist√≥ria soprem a seu favor.</p>
            </footer>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const header = document.querySelector('header');
            const mainContent = document.querySelector('main');
            const toggleBtn = document.getElementById('header-toggle');

            // L√≥gica para ocultar/mostrar header
            if (header && mainContent && toggleBtn) {
                toggleBtn.addEventListener('click', (e) => {
                    e.stopPropagation(); 
                    header.classList.toggle('header-hidden');
                    mainContent.classList.toggle('main-expanded');
                });
            }

            // --- L√≥gica do Menu Flutuante e Scrollspy ---
            const navLinks = document.querySelectorAll('.header-nav a');
            const sections = document.querySelectorAll('main > div, main > footer');
            const body = document.body;
            const newspaperContainer = document.querySelector('.newspaper-container');

            // Rolagem suave ao clicar no menu
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        // Calcula a posi√ß√£o do elemento e rola o body
                        const mainContainer = document.querySelector('main');
                        body.scrollTo({
                            left: newspaperContainer.offsetLeft + targetElement.offsetLeft - 64, // 64 √© um offset para n√£o colar na borda
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Scrollspy para destacar o item ativo
            function updateActiveLink() {
                let currentSectionId = '';
                const scrollCenter = body.scrollLeft + (body.clientWidth / 2);

                sections.forEach(section => {
                    if (section.offsetLeft <= scrollCenter) {
                        currentSectionId = section.getAttribute('id');
                    }
                });

                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === `#${currentSectionId}`) {
                        link.classList.add('active');
                    }
                });
            }

            body.addEventListener('scroll', updateActiveLink);
            updateActiveLink(); // Define o estado inicial
        });
    </script>
</body>
</html>